import{_ as F}from"./Button.vue_vue_type_script_setup_true_lang.28c1ac3d.js";import{_ as N}from"./Modal.vue_vue_type_script_setup_true_lang.aeb2fd83.js";import{a as w,ad as Y,o as f,c as M,G as i,f as r,t as k,u as v,h as a,$ as I,y as p,K as T,O as Z,k as K,P as ee,r as L,X as R,ae as A,Q as D,R as H,T as q,L as oe,e as h,F as S,v as O,J as te,H as ae,M as ne}from"./entry.c7208fb2.js";import{_ as le,a as se}from"./Multiselect.vue_vue_type_script_setup_true_lang.aa65d60f.js";import{_ as z}from"./TextField.vue_vue_type_script_setup_true_lang.b6cd0fdd.js";import{_ as P}from"./Icon.vue_vue_type_script_setup_true_lang.b684b932.js";import{_ as Q}from"./TextArea.vue_vue_type_script_setup_true_lang.418df535.js";import{_ as re}from"./Logo.86b66be3.js";import{_ as ie}from"./Container.vue_vue_type_script_setup_true_lang.ac640e1b.js";const ce=p(" Confirm "),me={class:"modal-action"},ue=p(" Confirm "),de=w({__name:"ModalConfirm",setup(C){const{text:$,isRevealed:s,confirm:d,cancel:_}=Y();return(e,u)=>{const b=F,c=N;return f(),M(c,{modelValue:v(s),"onUpdate:modelValue":u[1]||(u[1]=m=>I(s)?s.value=m:null),readonly:"",onCancel:u[2]||(u[2]=m=>v(_)(!1))},{title:i(()=>[ce]),default:i(()=>[r("div",null,[r("p",null,k(v($)),1)]),r("div",me,[a(b,{type:"submit",onClick:u[0]||(u[0]=m=>v(d)(!0))},{default:i(()=>[ue]),_:1})])]),_:1},8,["modelValue"])}}}),_e=p(" Create Item "),pe=["onSubmit"],fe={class:"modal-action"},be=p(" Create "),Ve=w({__name:"CreateModal",props:{modelValue:{type:Boolean,required:!0}},setup(C){const $=C,s=T(),d=q(),_=Z(),e=K(()=>_.locations),u=ee(),b=K(()=>u.labels),c=L(null),m=R($,"modelValue"),V=L(!1),l=L(!1),n=A({location:e.value&&e.value.length>0?e.value[0]:{},name:"",description:"",color:"",labels:[]});function B(){n.name="",n.description="",n.color="",l.value=!1,m.value=!1,V.value=!1}D(()=>m.value,()=>{l.value=!0});async function x(){if(!n.location)return;const g={name:n.name,description:n.description,locationId:n.location.id,labelIds:n.labels.map(t=>t.id)},{error:o}=await s.items.create(g);if(o){d.error("Couldn't create item");return}d.success("Item created"),B()}return(g,o)=>{const t=le,E=z,X=se,G=P,j=F,W=N;return f(),M(W,{modelValue:v(m),"onUpdate:modelValue":o[4]||(o[4]=U=>I(m)?m.value=U:null)},{title:i(()=>[_e]),default:i(()=>{var U,J;return[r("form",{onSubmit:H(x,["prevent"])},[a(t,{modelValue:n.location,"onUpdate:modelValue":o[0]||(o[0]=y=>n.location=y),label:"Location",items:(U=v(e))!=null?U:[],"select-first":""},null,8,["modelValue","items"]),a(E,{ref:"locationNameRef",modelValue:n.name,"onUpdate:modelValue":o[1]||(o[1]=y=>n.name=y),"trigger-focus":l.value,autofocus:!0,label:"Item Name"},null,8,["modelValue","trigger-focus"]),a(E,{modelValue:n.description,"onUpdate:modelValue":o[2]||(o[2]=y=>n.description=y),label:"Item Description"},null,8,["modelValue"]),a(X,{modelValue:n.labels,"onUpdate:modelValue":o[3]||(o[3]=y=>n.labels=y),label:"Labels",items:(J=v(b))!=null?J:[]},null,8,["modelValue","items"]),r("div",fe,[a(j,{ref_key:"submitBtn",ref:c,type:"submit",loading:V.value},{icon:i(()=>[a(G,{name:"mdi-package-variant",class:"swap-off"}),a(G,{name:"mdi-package-variant-closed",class:"swap-on"})]),default:i(()=>[be]),_:1},8,["loading"])])],40,pe)]}),_:1},8,["modelValue"])}}}),ve=p(" Create Label "),xe=["onSubmit"],ge={class:"modal-action"},Ce=p(" Create "),$e=w({__name:"CreateModal",props:{modelValue:{type:Boolean,required:!0}},setup(C){const s=R(C,"modelValue"),d=L(!1),_=L(!1),e=A({name:"",description:"",color:""});function u(){e.name="",e.description="",e.color="",_.value=!1,s.value=!1,d.value=!1}D(()=>s.value,()=>{_.value=!0});const b=T(),c=q();async function m(){const{error:V}=await b.labels.create(e);if(V){c.error("Couldn't create label");return}c.success("Label created"),u()}return(V,l)=>{const n=z,B=Q,x=F,g=N;return f(),M(g,{modelValue:v(s),"onUpdate:modelValue":l[2]||(l[2]=o=>I(s)?s.value=o:null)},{title:i(()=>[ve]),default:i(()=>[r("form",{onSubmit:H(m,["prevent"])},[a(n,{ref:"locationNameRef",modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=o=>e.name=o),"trigger-focus":_.value,autofocus:!0,label:"Label Name"},null,8,["modelValue","trigger-focus"]),a(B,{modelValue:e.description,"onUpdate:modelValue":l[1]||(l[1]=o=>e.description=o),label:"Label Description"},null,8,["modelValue"]),r("div",ge,[a(x,{type:"submit",loading:d.value},{default:i(()=>[Ce]),_:1},8,["loading"])])],40,xe)]),_:1},8,["modelValue"])}}}),Be=p(" Create Location "),ye=["onSubmit"],Le={class:"modal-action"},he=p(" Create "),we=w({__name:"CreateModal",props:{modelValue:{type:Boolean,required:!0}},setup(C){const s=R(C,"modelValue"),d=L(!1),_=L(!1),e=A({name:"",description:""});D(()=>s.value,()=>{_.value=!0});function u(){e.name="",e.description="",_.value=!1,s.value=!1,d.value=!1}const b=T(),c=q();async function m(){d.value=!0;const{data:V,error:l}=await b.locations.create(e);l&&c.error("Couldn't create location"),V&&c.success("Location created"),u()}return(V,l)=>{const n=z,B=Q,x=F,g=N;return f(),M(g,{modelValue:v(s),"onUpdate:modelValue":l[2]||(l[2]=o=>I(s)?s.value=o:null)},{title:i(()=>[Be]),default:i(()=>[r("form",{onSubmit:H(m,["prevent"])},[a(n,{ref:"locationNameRef",modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=o=>e.name=o),"trigger-focus":_.value,autofocus:!0,label:"Location Name"},null,8,["modelValue","trigger-focus"]),a(B,{modelValue:e.description,"onUpdate:modelValue":l[1]||(l[1]=o=>e.description=o),label:"Location Description"},null,8,["modelValue"]),r("div",Le,[a(x,{type:"submit",loading:d.value},{default:i(()=>[he]),_:1},8,["loading"])])],40,ye)]),_:1},8,["modelValue"])}}}),Me=r("div",{class:"bg-neutral absolute shadow-xl top-0 h-[20rem] max-h-96 -z-10 w-full"},null,-1),Ue={class:"mt-1 text-4xl font-bold tracking-tight text-neutral-content sm:text-5xl lg:text-6xl flex"},Se=p(" HomeB "),ke=p(" x "),Fe={class:"ml-1 mt-2 text-lg text-neutral-content/75 space-x-2"},Ne=["onClick"],Ie={class:"flex mt-6"},Te={class:"dropdown"},Ae={tabindex:"0",class:"btn btn-primary btn-sm"},Re=p(" Create "),De={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},He=["onClick"],Xe=w({__name:"Header",setup(C){const $=oe(),s=T();async function d(){const{error:b}=await $.logout(s);b||ne("/")}const _=[{name:"Home",href:"/home"},{name:"Logout",action:d,last:!0}],e=A({item:!1,location:!1,label:!1}),u=[{name:"Item / Asset",action:()=>{e.item=!0}},{name:"Location",action:()=>{e.location=!0}},{name:"Label",action:()=>{e.label=!0}}];return(b,c)=>{const m=de,V=Ve,l=$e,n=we,B=re,x=te,g=P,o=ie;return f(),h(S,null,[a(m),a(V,{modelValue:e.item,"onUpdate:modelValue":c[0]||(c[0]=t=>e.item=t)},null,8,["modelValue"]),a(l,{modelValue:e.label,"onUpdate:modelValue":c[1]||(c[1]=t=>e.label=t)},null,8,["modelValue"]),a(n,{modelValue:e.location,"onUpdate:modelValue":c[2]||(c[2]=t=>e.location=t)},null,8,["modelValue"]),Me,a(o,{cmp:"header",class:"py-6 max-w-none"},{default:i(()=>[a(o,null,{default:i(()=>[a(x,{to:"/home"},{default:i(()=>[r("h2",Ue,[Se,a(B,{class:"w-12 -mb-4"}),ke])]),_:1}),r("div",Fe,[(f(),h(S,null,O(_,t=>(f(),h(S,null,[t.action?(f(),h("button",{key:t.name+"link",for:"location-form-modal",class:"hover:text-base-content transition-color duration-200 italic",onClick:t.action},k(t.name),9,Ne)):(f(),M(x,{key:t.name,class:"hover:text-base-content transition-color duration-200 italic",to:t.href},{default:i(()=>[p(k(t.name),1)]),_:2},1032,["to"])),t.last?ae("",!0):(f(),h("span",{key:t.name}," / "))],64))),64))]),r("div",Ie,[r("div",Te,[r("label",Ae,[r("span",null,[a(g,{name:"mdi-plus",class:"mr-1 -ml-1"})]),Re]),r("ul",De,[(f(),h(S,null,O(u,t=>r("li",{key:t.name},[r("button",{onClick:t.action},k(t.name),9,He)])),64))])])])]),_:1})]),_:1})],64)}}});export{Xe as _};
